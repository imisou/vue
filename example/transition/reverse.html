<!--http://velocityjs.org/#reverse-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="../vue.js"></script>
</head>

<body>
    <div id="app5">
       
    </div>
</body>

</html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"></script>
<script>
new Vue({
    el: '#app5',
    data: {
        show: true
    },
    methods: {
        beforeEnter: function(el) {
            console.log(el);
            // alert("beforeEnter");
            el.style.opacity = 0
            el.style.transformOrigin = 'left'
        },
        enter: function(el, done) {
            console.log("enter");
            //    console.log(done);
            // done.cancelled = true;
            Velocity(el, { opacity: 1, fontSize: '1.4em' }, { duration: 300 });
            Velocity(el, { fontSize: '1em' }, { complete: done });
            Velocity(el, "reverse", { duration: 6000 });
            Velocity(el, {
                borderBottomWidth: ["2px", "spring"], // Uses "spring"
                width: ["100px", [250, 15]], // Uses custom spring physics
                height: "100px" // Defaults to easeInSine, the call's default easing
            }, {
                easing: "easeInSine" // Default easing
            });
        },
        leave: function(el, done) {
            Velocity(el, { translateX: '15px', rotateZ: '50deg' }, { duration: 600 })
            Velocity(el, { rotateZ: '100deg' }, { loop: 2 })
            Velocity(el, {
                rotateZ: '45deg',
                translateY: '30px',
                translateX: '30px',
                opacity: 0
            }, { complete: done })
        }
    },
    template: `
    <div id="app5">
        <button @click="show = !show">toggle hook</button>
        <transition name="test" @before-enter="beforeEnter" @enter="enter" @leave="leave"  appear>
            <p v-show="show">javascript 钩子使用</p>
        </transition>
    </div>
    `
})
</script>